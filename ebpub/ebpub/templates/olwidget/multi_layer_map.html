<div id="{{ id }}"></div>
{{ layer_html|join:"" }}
<script type="text/javascript">
    var olwidget_map_{{id}} = new olwidget.Map("{{ id }}", [
            {{ layer_js|join:"," }}
        ], 
        {{ map_opts|safe }}
    );
    var extra_layers = {{ extra_base_layers|safe }};
    for (var i=0, len=extra_layers.length; i < len; ++i) {
       olwidget_map_{{id}}.addLayer(new OpenLayers.Layer[extra_layers[i].class] (
          extra_layers[i].name, extra_layers[i].url,
          extra_layers[i].params, extra_layers[i].options));
    };
    olwidget_map_{{id}}.initCenter();
</script>
